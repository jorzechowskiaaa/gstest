<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Call_CostCal_Utility</name>
        <label>Call CostCal Utility</label>
        <locationX>666</locationX>
        <locationY>3350</locationY>
        <actionName>AAAReciprocalCostCalUtility</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Loop_Final_Amounts</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>lstAmounts</name>
            <value>
                <elementReference>ListOfDollarAmounts</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>lstLeadingZeroes</name>
            <value>
                <elementReference>ListOfLeading0s</elementReference>
            </value>
        </inputParameters>
        <nameSegment>AAAReciprocalCostCalUtility</nameSegment>
        <outputParameters>
            <assignToReference>ListModAmountsString</assignToReference>
            <name>output</name>
        </outputParameters>
    </actionCalls>
    <apiVersion>59.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Auth_Code</name>
        <label>Assign Auth Code</label>
        <locationX>732</locationX>
        <locationY>4490</locationY>
        <assignmentItems>
            <assignToReference>authCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Feedback_Record.Authorization_Code__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Values</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Basic_Amount</name>
        <label>Assign Basic Amount</label>
        <locationX>1018</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>FinalTotalBasicCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Final_Amounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Increase_Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Dollar_Amount</name>
        <label>Assign Dollar Amount</label>
        <locationX>1150</locationX>
        <locationY>1358</locationY>
        <assignmentItems>
            <assignToReference>TotalDollarAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SubTotalDollarAmount</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Has_Tax</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Facility_Bonus</name>
        <label>Assign Facility Bonus</label>
        <locationX>754</locationX>
        <locationY>2858</locationY>
        <assignmentItems>
            <assignToReference>BonusCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Facility_Bonus.Reciprocal_Bonus__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>TotalDollarPlusBonusCost</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Final_Bonus_Cost</name>
        <label>Assign Final Bonus Cost</label>
        <locationX>2074</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>FinalTotalBonusCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Final_Amounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Increase_Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Final_Invoice_Line_Items_1</name>
        <label>Assign Final Invoice Line Items 1</label>
        <locationX>435</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>finalInvoiceLineItems</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newInvoiceLineItems</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Problem_Code</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Final_Invoice_Line_Items_2</name>
        <label>Assign Final Invoice Line Items 2</label>
        <locationX>897</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>finalInvoiceLineItems</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_All_Invoice_Line_Items_From_Invoice</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Existing_Reciprocal_Record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Outgoing_Reciprocal_Fields</name>
        <label>Assign Outgoing Reciprocal Fields</label>
        <locationX>468</locationX>
        <locationY>4166</locationY>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Cost_Buffer__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CostBuffer</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Member_Last_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Contact.LastName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Long_Tow_Indicator__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LongTowIndicator</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Service_Call_Tow_Miles__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TowMiles</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Miles_To_Scene__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EnRouteMiles</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Total_Dollar_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TotalDollarAmount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Get_Existing_Reciprocal_Record.Tax_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TotalTaxAmount</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Existing_Reciprocal</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Plus_Amount</name>
        <label>Assign Plus Amount</label>
        <locationX>1282</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>FinalTotalPlusCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Final_Amounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Increase_Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Plus_RV_Cost</name>
        <label>Assign Plus RV Cost</label>
        <locationX>1810</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>FinalTotalPlusRVCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Final_Amounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Increase_Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Premier_Cost</name>
        <label>Assign Premier Cost</label>
        <locationX>1546</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>FinaltotalPremierCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Final_Amounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Increase_Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Serv_Call_Trouble_Code</name>
        <label>Assign Serv Call Trouble Code</label>
        <locationX>149</locationX>
        <locationY>782</locationY>
        <assignmentItems>
            <assignToReference>ServiceCallTroubleCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Reciprocal_T_Code.T_Code__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Tax_Amount</name>
        <label>Assign Tax Amount</label>
        <locationX>1150</locationX>
        <locationY>1658</locationY>
        <assignmentItems>
            <assignToReference>TotalTaxAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SubTotalTaxAmount</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Tow_Or_Enroute</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Total_Dollar_Amounts</name>
        <label>Assign Total Dollar Amounts</label>
        <locationX>754</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>FinalTotalDollarAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Final_Amounts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Increase_Count</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Values</name>
        <label>Assign Values</label>
        <locationX>864</locationX>
        <locationY>4682</locationY>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Transaction__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>PAY</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Submitting_Club_Code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.BackOffice_Settings__c.Club_Code__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Service_Club_Code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.BackOffice_Settings__c.Club_Code__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Service_Call_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>woCreatedDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Service_Call_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.WorkOrderNumber</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Service_Call_Trouble_Code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ServiceCallTroubleCode</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Work_Order__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Member__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Member_Account__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Member_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Contact.Member_Card_Num__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Member_First_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Contact.FirstName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Member_Last_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Contact.LastName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Long_Tow_Indicator__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LongTowIndicator</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Service_Call_Tow_Miles__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TowMiles</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Miles_To_Scene__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EnRouteMiles</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Service_Facility_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.ServiceTerritory.Facility_Number__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Cost_Buffer__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CostBuffer</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OutgoingPaymentRecTypeId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.CDX_Authorization_Code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>authCode</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Membership_Expiration_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Contact.Membership_Expiration_Date__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Total_Dollar_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TotalDollarAmount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Tax_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TotalTaxAmount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Membership_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MembershipType</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Amended_Charges_Indicator__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Adjusted</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Member_ClubCode__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.Program_Description__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewOutgoingReciprocal.Processor_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>workOrderRecord.ServiceTerritory.Comm_Ctr__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Outgoing_Reciprocal</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignDollarAmounts</name>
        <label>AssignDollarAmountsAndLeading0s</label>
        <locationX>666</locationX>
        <locationY>3242</locationY>
        <assignmentItems>
            <assignToReference>ListOfDollarAmounts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>TotalDollarAmountX100</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfDollarAmounts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>BasicCostX100</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfDollarAmounts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PlusCostX100</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfDollarAmounts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PremierCostX100</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfDollarAmounts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PlusRVCostX100</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfDollarAmounts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>BonusCostX100</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfLeading0s</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>TotalDollarNumberOfLeading0</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfLeading0s</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>BasicCostNumberOfLeading0s</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfLeading0s</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PlusCostNumberOfLeading0s</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfLeading0s</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PremierCostNumberOfLeading0s</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfLeading0s</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>PlusRVCostNumberOfLeading0s</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ListOfLeading0s</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>BonusCostNumberOfLeading0s</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Call_CostCal_Utility</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignEnrouteMiles</name>
        <label>AssignEnrouteMiles</label>
        <locationX>1018</locationX>
        <locationY>1958</locationY>
        <assignmentItems>
            <assignToReference>EnRouteMiles</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Invoice_Line_Items.Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AssignToCostAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignFixedBonus</name>
        <label>AssignFixedBonus</label>
        <locationX>50</locationX>
        <locationY>2858</locationY>
        <assignmentItems>
            <assignToReference>BonusCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Setup.BackOffice_Settings__c.RECIPSCFIX__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>TotalDollarPlusBonusCost</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignPecentageBonus</name>
        <label>AssignPecentageBonus</label>
        <locationX>314</locationX>
        <locationY>2858</locationY>
        <assignmentItems>
            <assignToReference>BonusCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BonusCostByPercentage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>TotalDollarPlusBonusCost</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignToBasicCost</name>
        <label>AssignToBasicCost</label>
        <locationX>754</locationX>
        <locationY>2258</locationY>
        <assignmentItems>
            <assignToReference>BasicCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>BasicSubTotalCost</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignToPlusCost</name>
        <label>AssignToPlusCost</label>
        <locationX>1282</locationX>
        <locationY>2258</locationY>
        <assignmentItems>
            <assignToReference>PlusCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>PlusSubTotalCost</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignToPremierCost</name>
        <label>AssignToPremierCost</label>
        <locationX>1018</locationX>
        <locationY>2258</locationY>
        <assignmentItems>
            <assignToReference>PremierCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>PremierSubTotalCost</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssigntoRVCost</name>
        <label>AssigntoRVCost</label>
        <locationX>1546</locationX>
        <locationY>2258</locationY>
        <assignmentItems>
            <assignToReference>PlusRVCost</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>PlusRVSubTotalCost</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignTowMiles</name>
        <label>AssignTowMiles</label>
        <locationX>1282</locationX>
        <locationY>1958</locationY>
        <assignmentItems>
            <assignToReference>TowMiles</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Invoice_Line_Items.Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AssignToCostAccount</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Has_Existing_Recip</name>
        <label>Has Existing Recip</label>
        <locationX>765</locationX>
        <locationY>674</locationY>
        <assignmentItems>
            <assignToReference>hasExistingReciprocal</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Increase_Count</name>
        <label>Increase Count</label>
        <locationX>1546</locationX>
        <locationY>3866</locationY>
        <assignmentItems>
            <assignToReference>Count</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Final_Amounts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>TotalCostPlusTotalTax</name>
        <label>TotalCostPlusTotalTax</label>
        <locationX>666</locationX>
        <locationY>2534</locationY>
        <assignmentItems>
            <assignToReference>TotalDollarAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TotalDollarAmountPlusTotalTax</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Bonus_Type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>TotalDollarPlusBonusCost</name>
        <label>TotalDollarPlusBonusCost</label>
        <locationX>666</locationX>
        <locationY>3134</locationY>
        <assignmentItems>
            <assignToReference>TotalDollarAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TotalDollarAmountPlusBonusCost</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AssignDollarAmounts</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>AssignToCostAccount</name>
        <label>AssignToCostAccount</label>
        <locationX>1282</locationX>
        <locationY>2150</locationY>
        <defaultConnector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>B</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Charge_to_Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>B</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Cost__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignToBasicCost</targetReference>
            </connector>
            <label>B</label>
        </rules>
        <rules>
            <name>E</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Charge_to_Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>E</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Cost__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignToPremierCost</targetReference>
            </connector>
            <label>E</label>
        </rules>
        <rules>
            <name>P</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Charge_to_Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>P</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Cost__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignToPlusCost</targetReference>
            </connector>
            <label>P</label>
        </rules>
        <rules>
            <name>R</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Charge_to_Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>R</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Cost__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssigntoRVCost</targetReference>
            </connector>
            <label>R</label>
        </rules>
    </decisions>
    <decisions>
        <name>Bonus_Type</name>
        <label>Bonus Type</label>
        <locationX>666</locationX>
        <locationY>2642</locationY>
        <defaultConnector>
            <targetReference>TotalDollarPlusBonusCost</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Global_Bonus</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.BackOffice_Settings__c.RECIPSCFAC__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Setup.BackOffice_Settings__c.PAY_FAC_BONUS_FOR_ADJ__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Percentage_or_Fixed_Amount</targetReference>
            </connector>
            <label>Global Bonus</label>
        </rules>
        <rules>
            <name>Facility_Bonus</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.BackOffice_Settings__c.RECIPSCFAC__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Setup.BackOffice_Settings__c.PAY_RECIP_SURCHAGE_FOR_ADJ__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Facility_Bonus</targetReference>
            </connector>
            <label>Facility Bonus</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Count</name>
        <label>Check Count</label>
        <locationX>1546</locationX>
        <locationY>3566</locationY>
        <defaultConnector>
            <targetReference>Increase_Count</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Count</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Total_Dollar_Amounts</targetReference>
            </connector>
            <label>0</label>
        </rules>
        <rules>
            <name>X1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Count</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Basic_Amount</targetReference>
            </connector>
            <label>1</label>
        </rules>
        <rules>
            <name>X2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Count</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Plus_Amount</targetReference>
            </connector>
            <label>2</label>
        </rules>
        <rules>
            <name>X3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Count</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Premier_Cost</targetReference>
            </connector>
            <label>3</label>
        </rules>
        <rules>
            <name>X4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Count</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>4.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Plus_RV_Cost</targetReference>
            </connector>
            <label>4</label>
        </rules>
        <rules>
            <name>X5</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Count</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>5.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Final_Bonus_Cost</targetReference>
            </connector>
            <label>5</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Existing_Reciprocal</name>
        <label>Check Existing Reciprocal</label>
        <locationX>897</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Assign_Final_Invoice_Line_Items_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Existing_Reciprocal_Record</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Existing_Recip</targetReference>
            </connector>
            <label>Present</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Problem_Code</name>
        <label>Check Problem Code</label>
        <locationX>435</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Problem_Code_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Problem_Code</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Reciprocal_T_Code</targetReference>
            </connector>
            <label>Problem Code Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Tow_Or_Enroute</name>
        <label>Check Tow or Enroute</label>
        <locationX>1282</locationX>
        <locationY>1850</locationY>
        <defaultConnector>
            <targetReference>AssignToCostAccount</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Enroute</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>OM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Quantity__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignEnrouteMiles</targetReference>
            </connector>
            <label>Enroute</label>
        </rules>
        <rules>
            <name>Tow</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>TW</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Quantity__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignTowMiles</targetReference>
            </connector>
            <label>Tow</label>
        </rules>
    </decisions>
    <decisions>
        <name>Existing_Recip_or_Not</name>
        <label>Existing Recip or Not</label>
        <locationX>666</locationX>
        <locationY>4058</locationY>
        <defaultConnector>
            <targetReference>Get_Outgoing_Reciprocal_Record_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Existing_Recip</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>hasExistingReciprocal</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Outgoing_Reciprocal_Fields</targetReference>
            </connector>
            <label>Existing Recip</label>
        </rules>
    </decisions>
    <decisions>
        <name>Find_Reciprocal_Code</name>
        <label>Find Reciprocal Code</label>
        <locationX>281</locationX>
        <locationY>674</locationY>
        <defaultConnector>
            <targetReference>Loop_Invoice_Line_Items</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Reciprocal_Code_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Reciprocal_T_Code</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Serv_Call_Trouble_Code</targetReference>
            </connector>
            <label>Reciprocal Code Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Cost</name>
        <label>Has Cost?</label>
        <locationX>1282</locationX>
        <locationY>1250</locationY>
        <defaultConnector>
            <targetReference>Has_Tax</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Cost__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Dollar_Amount</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Feedback</name>
        <label>Has Feedback?</label>
        <locationX>864</locationX>
        <locationY>4382</locationY>
        <defaultConnector>
            <targetReference>Assign_Values</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Has</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Feedback_Record</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Auth_Code</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Tax</name>
        <label>Has Tax?</label>
        <locationX>1282</locationX>
        <locationY>1550</locationY>
        <defaultConnector>
            <targetReference>Check_Tow_Or_Enroute</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Tax</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Invoice_Line_Items.Tax__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Tax_Amount</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_New_Reciprocal</name>
        <label>Is New Reciprocal</label>
        <locationX>666</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Get_All_Invoice_Line_Items_From_Invoice</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>New_Reciprocal</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isNewReciprocal</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Final_Invoice_Line_Items_1</targetReference>
            </connector>
            <label>New Reciprocal</label>
        </rules>
    </decisions>
    <decisions>
        <name>Percentage_or_Fixed_Amount</name>
        <label>Percentage or Fixed Amount</label>
        <locationX>314</locationX>
        <locationY>2750</locationY>
        <defaultConnector>
            <targetReference>TotalDollarPlusBonusCost</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Fixed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.BackOffice_Settings__c.RECIPSTYPE__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>F</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignFixedBonus</targetReference>
            </connector>
            <label>Fixed</label>
        </rules>
        <rules>
            <name>Percentage</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.BackOffice_Settings__c.RECIPSTYPE__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>P</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignPecentageBonus</targetReference>
            </connector>
            <label>Percentage</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>Adjusted</name>
        <dataType>String</dataType>
        <expression>IF({!workOrderRecord.Amended_Charges_Indicator__c},&quot;A&quot;,&quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>BasicCostNumberOfLeading0s</name>
        <dataType>Number</dataType>
        <expression>5 - {!LengthBasicCost}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>BasicCostX100</name>
        <dataType>Number</dataType>
        <expression>{!BasicCost} * 100</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>BasicSubTotalCost</name>
        <dataType>Number</dataType>
        <expression>{!BasicCost} + {!Loop_Invoice_Line_Items.Cost__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>BonusCostByPercentage</name>
        <dataType>Number</dataType>
        <expression>({!TotalDollarAmount} *{!$Setup.BackOffice_Settings__c.RECIPSCFIX__c} ) / 100</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>BonusCostNumberOfLeading0s</name>
        <dataType>Number</dataType>
        <expression>5 - {!LengthBonusCost}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>BonusCostX100</name>
        <dataType>Number</dataType>
        <expression>{!BonusCost}*100</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>CostBuffer</name>
        <dataType>String</dataType>
        <expression>&quot;BAS/&quot;+{!FinalTotalBasicCost}+&quot;/:PLS/&quot;+{!FinalTotalPlusCost}+&quot;/:PRM/&quot;+{!FinaltotalPremierCost}+&quot;/:PLR/&quot;+{!FinalTotalPlusRVCost}+&quot;/:BON/&quot;+{!FinalTotalBonusCost}</expression>
    </formulas>
    <formulas>
        <name>Has6T</name>
        <dataType>Boolean</dataType>
        <expression>IF({!ServiceCallTroubleCode} = &quot;T6&quot;,TRUE ,FALSE)</expression>
    </formulas>
    <formulas>
        <name>LengthBasicCost</name>
        <dataType>Number</dataType>
        <expression>LEN(TEXT({!BasicCostX100}))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>LengthBonusCost</name>
        <dataType>Number</dataType>
        <expression>LEN(TEXT({!BonusCostX100}))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>LengthPlusCost</name>
        <dataType>Number</dataType>
        <expression>LEN(TEXT({!PlusCostX100}))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>LengthPlusRVCost</name>
        <dataType>Number</dataType>
        <expression>LEN(TEXT({!PlusRVCostX100}))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>LengthPremierCost</name>
        <dataType>Number</dataType>
        <expression>LEN(TEXT({!PremierCostX100}))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>LengthTotalDollarAmount</name>
        <dataType>Number</dataType>
        <expression>LEN(TEXT({!TotalDollarAmountX100}))</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>LongTowIndicator</name>
        <dataType>Boolean</dataType>
        <expression>IF(AND({!Has6T}, {!TowMiles} &gt; 100, TEXT({!workOrderRecord.Contact.Membership_Level__c}) = &quot;Premier&quot;), TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>MembershipType</name>
        <dataType>String</dataType>
        <expression>CASE({!workOrderRecord.BO_Editable_WO_Specific_Membership_Level__c}, &quot;Basic&quot;, &quot;BAS&quot;,&quot;Plus&quot;,&quot;PLUS&quot;,&quot;Premier&quot;,&quot;PREM&quot;,&quot;Premier RV&quot;,&quot;PRRV&quot;,&quot;Plus RV&quot;,&quot;PLRV&quot;,&quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>PlusCostNumberOfLeading0s</name>
        <dataType>Number</dataType>
        <expression>5 - {!LengthPlusCost}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>PlusCostX100</name>
        <dataType>Number</dataType>
        <expression>{!PlusCost} * 100</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>PlusRVCostNumberOfLeading0s</name>
        <dataType>Number</dataType>
        <expression>5 - {!LengthPlusRVCost}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>PlusRVCostX100</name>
        <dataType>Number</dataType>
        <expression>{!PlusRVCost} * 100</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>PlusRVSubTotalCost</name>
        <dataType>Number</dataType>
        <expression>{!PlusRVCost} + {!Loop_Invoice_Line_Items.Cost__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>PlusSubTotalCost</name>
        <dataType>Number</dataType>
        <expression>{!PlusCost} + {!Loop_Invoice_Line_Items.Cost__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>PremierCostNumberOfLeading0s</name>
        <dataType>Number</dataType>
        <expression>5 - {!LengthPremierCost}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>PremierCostX100</name>
        <dataType>Number</dataType>
        <expression>{!PremierCost}*100</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>PremierSubTotalCost</name>
        <dataType>Number</dataType>
        <expression>{!PremierCost} + {!Loop_Invoice_Line_Items.Cost__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>SubTotalDollarAmount</name>
        <dataType>Number</dataType>
        <expression>{!TotalDollarAmount} + {!Loop_Invoice_Line_Items.Cost__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>SubTotalTaxAmount</name>
        <dataType>Number</dataType>
        <expression>{!TotalTaxAmount} + {!Loop_Invoice_Line_Items.Tax__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>TotalDollarAmountPlusBonusCost</name>
        <dataType>Number</dataType>
        <expression>{!TotalDollarAmount} + {!BonusCost}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>TotalDollarAmountPlusTotalTax</name>
        <dataType>Number</dataType>
        <expression>{!TotalDollarAmount} + {!TotalTaxAmount}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>TotalDollarAmountX100</name>
        <dataType>Number</dataType>
        <expression>{!TotalDollarAmount}*100</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>TotalDollarNumberOfLeading0</name>
        <dataType>Number</dataType>
        <expression>6 - {!LengthTotalDollarAmount}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>woCreatedDate</name>
        <dataType>Date</dataType>
        <expression>DATEVALUE({!workOrderRecord.CreatedDate})</expression>
    </formulas>
    <formulas>
        <name>woCreatedDateText</name>
        <dataType>String</dataType>
        <expression>TEXT(MONTH(DATEVALUE({!workOrderRecord.CreatedDate})))+TEXT(DAY(DATEVALUE({!workOrderRecord.CreatedDate})))+TEXT(YEAR(DATEVALUE({!workOrderRecord.CreatedDate})))</expression>
    </formulas>
    <interviewLabel>Create Outgoing Reciprocal on Clear {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Create Outgoing Reciprocal on Clear</label>
    <loops>
        <name>Loop_Final_Amounts</name>
        <label>Loop Final Amounts</label>
        <locationX>666</locationX>
        <locationY>3458</locationY>
        <collectionReference>ListModAmountsString</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Count</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Existing_Recip_or_Not</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Invoice_Line_Items</name>
        <label>Loop Invoice Line Items</label>
        <locationX>666</locationX>
        <locationY>1142</locationY>
        <collectionReference>finalInvoiceLineItems</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Has_Cost</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>TotalCostPlusTotalTax</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Outgoing_Reciprocal</name>
        <label>Create Outgoing Reciprocal</label>
        <locationX>864</locationX>
        <locationY>4790</locationY>
        <inputReference>NewOutgoingReciprocal</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Get_All_Invoice_Line_Items_From_Invoice</name>
        <label>Get All Invoice Line Items From Invoice</label>
        <locationX>897</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Final_Invoice_Line_Items_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Invoice__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>invoiceInput.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Invoice_Line_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Existing_Reciprocal_Record</name>
        <label>Get Existing Reciprocal Record</label>
        <locationX>897</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Existing_Reciprocal</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND 3 AND (4 OR 5)</filterLogic>
        <filters>
            <field>Work_Order__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>workOrderRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Developer_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Outbound_Payment_Requests</stringValue>
            </value>
        </filters>
        <filters>
            <field>Dispute_Code__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Dispute_Code__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Reciprocal__c</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Facility_Bonus</name>
        <label>Get Facility Bonus</label>
        <locationX>754</locationX>
        <locationY>2750</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Facility_Bonus</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>workOrderRecord.ServiceTerritoryId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceTerritory</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Reciprocal_Bonus__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Feedback_Record</name>
        <label>Get Feedback Record</label>
        <locationX>864</locationX>
        <locationY>4274</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Has_Feedback</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Work_Order__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>workOrderRecord.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Feedback__c</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Outgoing_Reciprocal_Record_Type</name>
        <label>Get Outgoing Reciprocal Record Type</label>
        <locationX>864</locationX>
        <locationY>4166</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Feedback_Record</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Outbound_Payment_Requests</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>OutgoingPaymentRecTypeId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Problem_Code</name>
        <label>Get Problem Code</label>
        <locationX>435</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Problem_Code</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Work_Order__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>workOrderRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>PROBLEM</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSL_TroubleCode__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Reciprocal_T_Code</name>
        <label>Get Reciprocal T Code</label>
        <locationX>281</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Find_Reciprocal_Code</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Label</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Problem_Code.Code__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Local_to_Reciprocal_T_Code_Mapping__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Existing_Reciprocal</name>
        <label>Update Existing Reciprocal</label>
        <locationX>468</locationX>
        <locationY>4274</locationY>
        <inputReference>Get_Existing_Reciprocal_Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>540</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Is_New_Reciprocal</targetReference>
        </connector>
    </start>
    <status>Obsolete</status>
    <variables>
        <name>authCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>BasicCost</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>BonusCost</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>Count</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>currentItemFromSourceCollection</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FSL_Service_Line_Item__c</objectType>
    </variables>
    <variables>
        <name>currentServiceLineIteminLoop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>FSL_Service_Line_Item__c</objectType>
    </variables>
    <variables>
        <name>EnRouteMiles</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>finalInvoiceLineItems</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Invoice_Line_Item__c</objectType>
    </variables>
    <variables>
        <name>FinalTotalBasicCost</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FinalTotalBonusCost</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FinalTotalDollarAmount</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FinalTotalPlusCost</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FinalTotalPlusRVCost</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FinaltotalPremierCost</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>hasExistingReciprocal</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>invoiceInput</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Invoice__c</objectType>
    </variables>
    <variables>
        <name>isNewReciprocal</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ListModAmountsString</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ListOfDollarAmounts</name>
        <dataType>Number</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>ListOfLeading0s</name>
        <dataType>Number</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>newInvoiceLineItems</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Invoice_Line_Item__c</objectType>
    </variables>
    <variables>
        <name>NewOutgoingReciprocal</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Reciprocal__c</objectType>
    </variables>
    <variables>
        <name>OutgoingPaymentRecTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PlusCost</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>PlusRVCost</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>PremierCost</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ServiceCallTroubleCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>TeleCost</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>TotalDollarAmount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>TotalTaxAmount</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>TowMiles</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>workOrderRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
</Flow>
