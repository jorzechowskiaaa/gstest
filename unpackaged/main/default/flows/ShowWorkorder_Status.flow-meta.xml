<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Select_Status</name>
        <label>Select Status</label>
        <locationX>710</locationX>
        <locationY>1382</locationY>
        <actionName>ServiceAppointment.En_Route</actionName>
        <actionType>quickAction</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>contextId</name>
            <value>
                <elementReference>BreakdownAppointment.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>Status</name>
            <value>
                <elementReference>nextAaStatus</elementReference>
            </value>
        </inputParameters>
        <nameSegment>ServiceAppointment.En_Route</nameSegment>
    </actionCalls>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_AA_En_Route</name>
        <label>Assign AA En Route</label>
        <locationX>50</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>nextAaStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>En Route</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_Status</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_AA_On_Location</name>
        <label>Assign AA On Location</label>
        <locationX>314</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>nextAaStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>On Location</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_Status</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>CannotComplete_Status</name>
        <choiceText>Cannot Complete</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Cannot Complete</stringValue>
        </value>
    </choices>
    <choices>
        <name>Cleared_Status</name>
        <choiceText>Cleared</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Cleared</stringValue>
        </value>
    </choices>
    <choices>
        <name>Dispatched</name>
        <choiceText>Dispatched</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>WoStatusPicklist</elementReference>
        </value>
    </choices>
    <choices>
        <name>Dispatched_Status</name>
        <choiceText>Dispatched</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Dispatched</stringValue>
        </value>
    </choices>
    <choices>
        <name>Enroute_Status</name>
        <choiceText>Enroute</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>En Route</stringValue>
        </value>
    </choices>
    <choices>
        <name>In_Tow</name>
        <choiceText>In Tow</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>In Tow</stringValue>
        </value>
    </choices>
    <choices>
        <name>On_Location</name>
        <choiceText>On Location</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>WoStatusPicklist</elementReference>
        </value>
    </choices>
    <choices>
        <name>On_Location_Status</name>
        <choiceText>On Location</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>On Location</stringValue>
        </value>
    </choices>
    <choices>
        <name>Tow_Complete</name>
        <choiceText>Tow Complete</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Tow Complete</stringValue>
        </value>
    </choices>
    <constants>
        <name>Info_Text</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Call is already On Location. Please Clear or reach out to your Dispatchers for further updates.</stringValue>
        </value>
    </constants>
    <constants>
        <name>Info_Text2</name>
        <dataType>String</dataType>
        <value>
            <stringValue>This call is already marked as Tow Complete. Please Clear the call or reach out to your Dispatchers for further assistance.</stringValue>
        </value>
    </constants>
    <decisions>
        <name>AA_Status_Check</name>
        <label>AA Status Check</label>
        <locationX>710</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>Select_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>AA_Dispatched</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Dispatched</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_AA_En_Route</targetReference>
            </connector>
            <label>AA Dispatched</label>
        </rules>
        <rules>
            <name>AA_En_Route</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>En Route</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_AA_On_Location</targetReference>
            </connector>
            <label>AA En Route</label>
        </rules>
        <rules>
            <name>AA_On_Location</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>On Location</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>On_Location_Sub_Flow</targetReference>
            </connector>
            <label>AA On Location</label>
        </rules>
        <rules>
            <name>AA_In_Tow</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>TowAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>In Tow</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>In_Tow_Subflow</targetReference>
            </connector>
            <label>AA In Tow</label>
        </rules>
        <rules>
            <name>AA_Tow_Complete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>TowAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Tow Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Clear_Call_Sub_Flow</targetReference>
            </connector>
            <label>AA Tow Complete</label>
        </rules>
    </decisions>
    <decisions>
        <name>Already_Prompted</name>
        <label>Already Prompted?</label>
        <locationX>1128</locationX>
        <locationY>974</locationY>
        <defaultConnector>
            <targetReference>Status_Checker</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Appointment_Assistant_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAAuser</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AA_Status_Check</targetReference>
            </connector>
            <label>Appointment Assistant User</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Correct_Assignment</name>
        <label>Is Correct Assignment</label>
        <locationX>1513</locationX>
        <locationY>866</locationY>
        <defaultConnector>
            <targetReference>Get_Alert_Message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_Assigned_To_Current_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UserId</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>BreakdownAppointment.Service_resource_userid__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Already_Prompted</targetReference>
            </connector>
            <label>Assigned To Current User</label>
        </rules>
        <rules>
            <name>User_is_Lead_Driver</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UserId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>BreakdownAppointment.Service_resource_userid__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>UserIsLeadDriver</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Status_Checker</targetReference>
            </connector>
            <label>User is Lead Driver</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_there_a_Tow_Appointment</name>
        <label>Is there a Tow Appointment?</label>
        <locationX>1513</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Get_User</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Get_Tow_Appointment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.FSL__Related_Service__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Tow_SA</targetReference>
            </connector>
            <label>Get Tow Appointment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Status_Checker</name>
        <label>Status Checker</label>
        <locationX>1513</locationX>
        <locationY>1766</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>StatusDispatched</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Dispatched</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Dispatched_Flow</targetReference>
            </connector>
            <label>StatusDispatched</label>
        </rules>
        <rules>
            <name>StatusEnroute</name>
            <conditionLogic>2 AND 1</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>En Route</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>En_Route_Sub_Flow</targetReference>
            </connector>
            <label>StatusEnroute</label>
        </rules>
        <rules>
            <name>StatusOnLocation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>On Location</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>On_Location_Sub_Flow</targetReference>
            </connector>
            <label>StatusOnLocation</label>
        </rules>
        <rules>
            <name>StatusInTow</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>TowAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>In Tow</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>In_Tow_Subflow</targetReference>
            </connector>
            <label>StatusInTow</label>
        </rules>
        <rules>
            <name>StatusTowComplete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>TowAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Tow Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Clear_Call_Sub_Flow</targetReference>
            </connector>
            <label>StatusTowComplete</label>
        </rules>
        <rules>
            <name>StatusCleared</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cleared</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Clear_Call_Sub_Flow</targetReference>
            </connector>
            <label>StatusCleared</label>
        </rules>
        <rules>
            <name>StatusScheduled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>thisWorkOrder.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Scheduled_Subflow</targetReference>
            </connector>
            <label>StatusScheduled</label>
        </rules>
        <rules>
            <name>StatusCanceled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BreakdownAppointment.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Canceled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>thisWorkOrder</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Call_Canceled_Subflow</targetReference>
            </connector>
            <label>StatusCanceled</label>
        </rules>
    </decisions>
    <description>2025-03-18: updated Clear Call Sub Flow to skip for Tows 945</description>
    <dynamicChoiceSets>
        <name>WoStatusPicklist</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Status</picklistField>
        <picklistObject>WorkOrder</picklistObject>
        <sortOrder>Asc</sortOrder>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>CurrentUserID</name>
        <dataType>String</dataType>
        <expression>{!$User.Id}</expression>
    </formulas>
    <interviewLabel>ShowWorkorder Status {!$Flow.CurrentDateTime}</interviewLabel>
    <label>ShowWorkorder Status 1</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>FieldServiceMobile</processType>
    <recordLookups>
        <name>Get_Alert_Message</name>
        <label>Get Alert Message</label>
        <locationX>1898</locationX>
        <locationY>974</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Reassigned_Screen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Message_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SM-020</stringValue>
            </value>
        </filters>
        <object>FSL_User_Message__c</object>
        <outputReference>ReassignmentMessage</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Message_Text__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Service_Appointments</name>
        <label>Get Service Appointments</label>
        <locationX>1513</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_there_a_Tow_Appointment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>thisWorkOrder.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>isBreakdown__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>ServiceAppointment</object>
        <outputReference>BreakdownAppointment</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Service_resource_userid__c</queriedFields>
        <queriedFields>Service_Resource__c</queriedFields>
        <queriedFields>Payment_Required__c</queriedFields>
        <queriedFields>Status</queriedFields>
        <queriedFields>ParentRecordId</queriedFields>
        <queriedFields>FSL__Related_Service__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Tow_SA</name>
        <label>Get Tow SA</label>
        <locationX>1381</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_User</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>BreakdownAppointment.FSL__Related_Service__c</elementReference>
            </value>
        </filters>
        <object>ServiceAppointment</object>
        <outputReference>TowAppointment</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Status</queriedFields>
        <queriedFields>Distance__c</queriedFields>
        <queriedFields>FSL_Needs_Address__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_User</name>
        <label>Get User</label>
        <locationX>1513</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Correct_Assignment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>UserId</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputAssignments>
            <assignToReference>isAAuser</assignToReference>
            <field>Appointment_Assistant_Pilot__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>LoggedintoGlympse</assignToReference>
            <field>FSL_Logged_into_Glympse__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>GlympsePrompt</assignToReference>
            <field>FSL_Prompted_To_Login_Glympse__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>UserIsLeadDriver</assignToReference>
            <field>Lead_Driver__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Work_Order</name>
        <label>Get Work Order</label>
        <locationX>1513</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Call_Header</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>thisWorkOrder</outputReference>
        <queriedFields>Status</queriedFields>
        <queriedFields>Is_Tow_WorkType__c</queriedFields>
        <queriedFields>Membership_Benefit_Level__c</queriedFields>
        <queriedFields>Program_Name__c</queriedFields>
        <queriedFields>Member_Number__c</queriedFields>
        <queriedFields>Call_Type__c</queriedFields>
        <queriedFields>FSL_Pacesetter__c</queriedFields>
    </recordLookups>
    <screens>
        <name>Reassigned_Screen</name>
        <label>Alert - Reassignment</label>
        <locationX>1898</locationX>
        <locationY>1082</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>AssignmentMessage</name>
            <fieldText>&lt;p&gt;{!ReassignmentMessage.Message_Text__c} &lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>1387</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Work_Order</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <description>Call Canceled Subflow</description>
        <name>Call_Canceled_Subflow</name>
        <label>Call Canceled Subflow</label>
        <locationX>2217</locationX>
        <locationY>1874</locationY>
        <flowName>Call_Canceled_by_Member_Subflow</flowName>
        <inputAssignments>
            <name>BreakdownAppointment</name>
            <value>
                <elementReference>BreakdownAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Header_Text_Input</name>
            <value>
                <elementReference>Header_Text</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Clear_Call_Sub_Flow</name>
        <label>Clear Call Sub Flow</label>
        <locationX>1513</locationX>
        <locationY>2174</locationY>
        <flowName>Clear_Call_Flow</flowName>
        <inputAssignments>
            <name>BreakdownAppointment</name>
            <value>
                <elementReference>BreakdownAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Go_NoGo_Skip</name>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ThisWorkOrder</name>
            <value>
                <elementReference>thisWorkOrder</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>v_skipToTowCleared</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Dispatched_Flow</name>
        <label>Dispatched Flow</label>
        <locationX>545</locationX>
        <locationY>1874</locationY>
        <flowName>Dispatched_Flow</flowName>
        <inputAssignments>
            <name>BreakdownAppointment</name>
            <value>
                <elementReference>BreakdownAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Header_Text_Input</name>
            <value>
                <elementReference>Header_Text</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>UserId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>En_Route_Sub_Flow</name>
        <label>En Route Sub Flow</label>
        <locationX>809</locationX>
        <locationY>1874</locationY>
        <flowName>En_Route_Flow</flowName>
        <inputAssignments>
            <name>BreakdownAppointment</name>
            <value>
                <elementReference>BreakdownAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Header_Text_Input</name>
            <value>
                <elementReference>Header_Text</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Get_Call_Header</name>
        <label>Get Call Header</label>
        <locationX>1513</locationX>
        <locationY>242</locationY>
        <connector>
            <targetReference>Get_Service_Appointments</targetReference>
        </connector>
        <flowName>Call_Header_Builder</flowName>
        <inputAssignments>
            <name>inputWorkOrder</name>
            <value>
                <elementReference>thisWorkOrder</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>Header_Text</assignToReference>
            <name>Header_Output</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>In_Tow_Subflow</name>
        <label>In Tow Sub Flow</label>
        <locationX>1337</locationX>
        <locationY>1874</locationY>
        <flowName>In_Tow_Subflow</flowName>
        <inputAssignments>
            <name>Header_Text_Input</name>
            <value>
                <elementReference>Header_Text</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TowAppointmentToUpdate</name>
            <value>
                <elementReference>TowAppointment</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>On_Location_Sub_Flow</name>
        <label>On Location Sub Flow</label>
        <locationX>1073</locationX>
        <locationY>1874</locationY>
        <flowName>On_Location_Sub_Flow</flowName>
        <inputAssignments>
            <name>BreakdownAppointment</name>
            <value>
                <elementReference>BreakdownAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Header_Text_Input</name>
            <value>
                <elementReference>Header_Text</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>isTowWorkType</name>
            <value>
                <elementReference>thisWorkOrder.Is_Tow_WorkType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TowAppointment</name>
            <value>
                <elementReference>TowAppointment</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Scheduled_Subflow</name>
        <label>Scheduled Subflow</label>
        <locationX>1953</locationX>
        <locationY>1874</locationY>
        <flowName>Scheduled_Flow</flowName>
        <inputAssignments>
            <name>BreakdownAppointment</name>
            <value>
                <elementReference>BreakdownAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Header_Text_Input</name>
            <value>
                <elementReference>Header_Text</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>BreakdownAppointment</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>CurrentStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>GlympsePrompt</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Header_Text</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Id of the Work Order, automatically passed in from Quick Action</description>
        <name>Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>isAAuser</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>LoggedintoGlympse</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>nextAaStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>promptMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ReassignmentMessage</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FSL_User_Message__c</objectType>
    </variables>
    <variables>
        <name>thisWorkOrder</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>TowAppointment</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <description>The ID of the current user.</description>
        <name>UserId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>UserIsLeadDriver</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
